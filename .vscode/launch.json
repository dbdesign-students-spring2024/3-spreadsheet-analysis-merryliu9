import pandas as pd
from bs4 import BeautifulSoup
import urllib.request

def read_data(file_path_or_url):
    with open(file_path_or_url, 'r') as f:
        html = f.read()
    soup = BeautifulSoup(html, 'html.parser')
    table = soup.find('table')
    df = pd.read_html(str(table))[0]
    return df

def save_clean_data(df):
    df.to_csv('data/clean_data.csv', index=False)

def main():
    file_path_or_url = 'file:///Users/merryliu7/3-spreadsheet-analysis-merryliu9/data/Fossil%20Fuel%20Subsidies%20_%20Fossil%20Fuel%20Subsidies%20_%20Climate%20Change%20Indicators%20Dashboard.html'
    df = read_data(file_path_or_url)
    save_clean_data(df)

if __name__ == '__main__':
    main()
